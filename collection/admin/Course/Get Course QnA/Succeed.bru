meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetCourseQnA($groupId: Int!, $order: Int!) {
    getCourseQnA(groupId: $groupId, order: $order) {
      id
      order
      title
      content
      problemId
      category
      isResolved
      isPrivate
      createTime
      groupId
      createdBy {
        username
      }
      comments {
        id
        order
        content
        isCourseStaff
        createTime
        createdBy {
          username
        }
      }
    }
  }
}

body:graphql:vars {
  {
    "groupId": 2,
    "order": 1
  }
}

assert {
  res.body.data.getCourseQnA: isObject
}

script:pre-request {
  await require("./login").loginInstructor(req);
}

docs {
  # ğŸ“˜ Get Course QnA

  **POST** `/graphql (query: getCourseQnA)`

  Retrieves detailed information of a specific QnA including its comments.

  íŠ¹ì • Q&Aì˜ ìƒì„¸ ì •ë³´ë¥¼ ëŒ“ê¸€ê³¼ í•¨ê»˜ ì¡°íšŒí•©ë‹ˆë‹¤.

  ---

  ### ğŸ”’ Authentication

  âœ… Required (Course Staff - Instructor or TA)

  ---

  ### ğŸ“¥ Request Variables

  | Name | Type | Required | Description |
  |---|---|---|---|
  | `groupId` | Int | âœ… | Q&Aê°€ ì†í•œ ì½”ìŠ¤(Group)ì˜ ID |
  | `order` | Int | âœ… | ì¡°íšŒí•  Q&Aì˜ ìˆœë²ˆ |

  ---

  ### ğŸ“¤ Response Body

  #### Content-Type: `application/json`
```json
  {
    "data": {
      "getCourseQnA": {
        "id": 1,
        "order": 1,
        "title": "ìë£Œêµ¬ì¡° ê³¼ì œ 1 ì§ˆë¬¸",
        "content": "ì—°ê²° ë¦¬ìŠ¤íŠ¸ êµ¬í˜„ì— ëŒ€í•œ ì§ˆë¬¸ì…ë‹ˆë‹¤.",
        "problemId": null,
        "category": "General",
        "isResolved": true,
        "isPrivate": false,
        "createTime": "2025-09-18T07:18:43.149Z",
        "groupId": 2,
        "createdBy": {
          "username": "user01"
        },
        "comments": [
          {
            "id": 1,
            "order": 1,
            "content": "ì—°ê²° ë¦¬ìŠ¤íŠ¸ëŠ”...",
            "isCourseStaff": true,
            "createTime": "2025-09-18T08:30:00.000Z",
            "createdBy": {
              "username": "instructor"
            }
          }
        ]
      }
    }
  }
