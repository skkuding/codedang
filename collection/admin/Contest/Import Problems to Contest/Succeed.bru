meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  mutation ImportProblemsToContest(
    $contestId: Int!
    $problemIdsWithScore: [ProblemScoreInput!]!
  ) {
    importProblemsToContest(
      contestId: $contestId
      problemIdsWithScore: $problemIdsWithScore
    ) {
      contestId
      problemId
      order
      score
    }
  }
}

body:graphql:vars {
  {
    "contestId": 20,
    "problemIdsWithScore": [
      { "problemId": 7, "score": 20 },
      { "problemId": 8, "score": 30 },
      { "problemId": 9, "score": 50 }
    ]
  }
}

assert {
  res.body.data.importProblemsToContest: isDefined
}

script:pre-request {
  await require("./login").loginContestAdmin(req);
}

docs {
  # ğŸ“˜ Import Problems To Contest

  **POST** `/graphql (mutation: importProblemsToContest)`

  Imports a list of problems into a contest.

  íŠ¹ì • ëŒ€íšŒì— ë¬¸ì œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

  ì´ë¯¸ ëŒ€íšŒì— í¬í•¨ëœ ë¬¸ì œëŠ” ê±´ë„ˆë›°ê³ , ê° ë¬¸ì œì— ëŒ€í•´ ì ìˆ˜ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤.

  ë¬¸ì œì˜ `visibleLockTime`ì´ ëŒ€íšŒì˜ ì¢…ë£Œ ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

  ---

  ### ğŸ”’ Authentication

  âœ… Required (Contest Staff)

  ---

  ### ğŸ“¥ Request Variables

  | Name | Type | Required | Description |
  |---|---|---|---|
  | `contestId` | Int | âœ… | ëŒ€íšŒ ID |
  | `problemIdsWithScore`| [ProblemScoreInput] | âœ… | ì¶”ê°€í•  ë¬¸ì œì˜ IDì™€ ì ìˆ˜ ë°°ì—´ |

  #### `ProblemScoreInput`
  | Name | Type | Required | Description |
  |---|---|---|---|
  | `problemId` | Int | âœ… | ì¶”ê°€í•  ë¬¸ì œ ID |
  | `score` | Int | âœ… | í•´ë‹¹ ë¬¸ì œì— ë¶€ì—¬í•  ì ìˆ˜ |

  ---

  ### ğŸ“¤ Response Body

  #### Content-Type: `application/json`

  ```json
  {
    "data": {
      "importProblemsToContest": [
        {
          "contestId": 20,
          "problemId": 7,
          "order": 2,
          "score": 20
        },
        {
          "contestId": 20,
          "problemId": 8,
          "order": 3,
          "score": 30
        },
        {
          "contestId": 20,
          "problemId": 9,
          "order": 4,
          "score": 50
        }
      ]
    }
  }
  ```

  | Field | Type | Description |
  |--------|------|------|
  | `contestId` | Int | ëŒ€íšŒ ID |
  | `problemId` | Int | ì¶”ê°€ëœ ë¬¸ì œ ID |
  | `order` | Int | ëŒ€íšŒì—ì„œì˜ ë¬¸ì œ ìˆœë²ˆ |
  | `score` | Int | ëŒ€íšŒì—ì„œì˜ ë¬¸ì œ ì ìˆ˜ |
}
