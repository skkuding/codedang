meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetContestSubmissionSummaryByUserId(
    $contestId: Int!
    $userId: Int!
    $take: Int!
    $cursor: Int
    $problemId: Int
  ) {
    getContestSubmissionSummaryByUserId(
      contestId: $contestId
      userId: $userId
      take: $take
      cursor: $cursor
      problemId: $problemId
    ) {
      scoreSummary {
        userContestScore
        contestPerfectScore
        submittedProblemCount
        totalProblemCount
        problemScores {
          problemId
          score
        }
      }
      submissions {
        id
        order
        problemId
        problemTitle
        username
        studentId
        submissionResult
        language
        submissionTime
        codeSize
        ip
      }
    }
  }
}

body:graphql:vars {
  {
    "contestId": 1,
    "userId": 7,
    "take": 10
    // "cursor": 1,
    // "problemId": 1
  }
}

docs {
  # ğŸ“˜ Get Contest Submission Summary By UserId

  **POST** `/graphql (query: getContestSubmissionSummaryByUserId)`

  Retrieves a user's score summary and their submissions for a contest.

  íŠ¹ì • ì‚¬ìš©ìì˜ ëŒ€íšŒ ì ìˆ˜ ìš”ì•½ ì •ë³´ì™€ ì œì¶œ ê¸°ë¡ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

  `problemId`ë¥¼ í†µí•´ íŠ¹ì • ë¬¸ì œì— ëŒ€í•œ ì œì¶œ ê¸°ë¡ë§Œ í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ---

  ### ğŸ”’ Authentication

  âœ… Required (Contest Staff)

  ---

  ### ğŸ“¥ Request Variables

  | Name | Type | Required | Description |
  |---|---|---|---|
  | `contestId` | Int | âœ… | ì¡°íšŒí•  ëŒ€íšŒì˜ ID |
  | `userId` | Int | âœ… | ì¡°íšŒí•  ì‚¬ìš©ìì˜ ID |
  | `take` | Int | âœ… | ê°€ì ¸ì˜¬ ì œì¶œ ê¸°ë¡ ê°œìˆ˜ |
  | `cursor` | Int | âŒ | í˜ì´ì§€ë„¤ì´ì…˜ ì»¤ì„œ |
  | `problemId`| Int | âŒ | í•„í„°ë§í•  ë¬¸ì œì˜ ID |

  ---

  ### ğŸ“¤ Response Body

  #### Content-Type: `application/json`

  ```json
  {
    "data": {
      "getContestSubmissionSummaryByUserId": {
        "scoreSummary": {
          "userContestScore": 0,
          "contestPerfectScore": 30,
          "submittedProblemCount": 1,
          "totalProblemCount": 2,
          "problemScores": [
            {
              "problemId": 1,
              "score": 0
            }
          ]
        },
        "submissions": [
          {
            "id": 1,
            "order": 0,
            "problemId": 1,
            "problemTitle": "ì •ìˆ˜ ë”í•˜ê¸°",
            "username": "user01",
            "studentId": "2024100001",
            "submissionResult": "Accepted",
            "language": "C",
            "submissionTime": "1758179922858",
            "codeSize": null,
            "ip": null
          }
        ]
      }
    }
  }
  ```

  | Field | Type | Description |
  |--------|------|------|
  | `scoreSummary` | ScoreSummary | ì‚¬ìš©ìì˜ ì ìˆ˜ ìš”ì•½ ì •ë³´ |
  | `submissions` | [Submission] | ì‚¬ìš©ìì˜ ì œì¶œ ê¸°ë¡ ëª©ë¡ |
}
