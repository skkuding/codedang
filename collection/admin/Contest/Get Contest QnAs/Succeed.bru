meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetContestQnAs($contestId: Int!, $take: Int, $cursor: Int, $filter: GetContestQnAsFilterInput) {
    getContestQnAs(
      contestId: $contestId,
      take: $take,
      cursor: $cursor,
      filter: $filter
    ) {
      id
      order
      title
      content
      category
      isResolved
      createTime
      contestId
      createdBy {
        username
      }
      _count {
        comments
      }
    }
  }
}

body:graphql:vars {
  {
    "contestId": 20,
    "take": 10
    // "cursor": 1
  }
}

script:pre-request {
  await require("./login").loginContestAdmin(req);
}

docs {
  # ğŸ“˜ Get Contest QnAs

  **POST** `/graphql (query: getContestQnAs)`

  Retrieves a paginated list of QnAs for a contest.

  íŠ¹ì • ëŒ€íšŒì˜ QnA ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

  `take`ì™€ `cursor`ë¥¼ í†µí•´ ê°€ì ¸ì˜¬ QnAì˜ ê°œìˆ˜ì™€ ì‹œì‘ì ì„ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, `filter`ë¥¼ í†µí•´ í•´ê²° ì—¬ë¶€(`isResolved`)ì— ë”°ë¼ í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ---

  ### ğŸ”’ Authentication

  âœ… Required (Contest Staff)

  ---

  ### ğŸ“¥ Request Variables

  | Name | Type | Required | Description |
  |---|---|---|---|
  | `contestId` | Int | âœ… | ì¡°íšŒí•  QnAê°€ ì†í•œ ëŒ€íšŒì˜ ID |
  | `take` | Int | âŒ | ê°€ì ¸ì˜¬ ê°œìˆ˜ (ê¸°ë³¸ê°’: 10) |
  | `cursor` | Int | âŒ | í˜ì´ì§€ë„¤ì´ì…˜ ì»¤ì„œ (ID) |
  | `filter`| GetContestQnAsFilterInput | âŒ | í•„í„°ë§ ì˜µì…˜ |
  | `filter.isResolved` | Boolean | âŒ | í•´ê²°/ë¯¸í•´ê²° í•„í„°ë§ |

  ---

  ### ğŸ“¤ Response Body

  #### Content-Type: `application/json`

  ```json
  {
    "data": {
      "getContestQnAs": [
        {
          "id": "7",
          "order": 1,
          "title": "20ë²ˆ ëŒ€íšŒì— ëŒ€í•œ ì§ˆë¬¸",
          "content": "7ë²ˆ ìœ ì €ê°€ ì‘ì„±í•¨",
          "category": "General",
          "isResolved": false,
          "createTime": "2025-09-18T07:18:43.149Z",
          "contestId": 20,
          "createdBy": {
            "username": "user01"
          },
          "_count": {
            "comments": 1
          }
        }
      ]
    }
  }
  ```

  | Field | Type | Description |
  |--------|------|------|
  | `id` | Int | QnA ID |
  | `order` | Int | ëŒ€íšŒ ë‚´ QnA ìˆœë²ˆ |
  | `title` | String | QnA ì œëª© |
  | `content` | String | QnA ë‚´ìš© |
  | `category` | QnACategory | QnA ì¹´í…Œê³ ë¦¬ |
  | `isResolved` | Boolean | í•´ê²° ì™„ë£Œ ì—¬ë¶€ |
  | `createTime` | GraphQLISODateTime | ìƒì„± ì‹œê°„ |
  | `contestId` | Int | QnAê°€ ì†í•œ ëŒ€íšŒ ID |
  | `createdBy` | User | ì‘ì„±ì ì •ë³´ |
  | `createdBy.username` | String | ì‘ì„±ì ì‚¬ìš©ìëª… |
  | `_count` | Object | ê´€ë ¨ ë°ì´í„° ê°œìˆ˜ |
  | `_count.comments` | Int | í•´ë‹¹ QnAì— ë‹¬ë¦° ëŒ“ê¸€ ê°œìˆ˜ |
}
