meta {
  name: Succeed
  type: http
  seq: 1
}

post {
  url: {{baseUrl}}/graphql
  body: json
  auth: none
}

body:json {
  {
    "query": "query GetContestQnAs($contestId: Int!, $filter: GetContestQnAsFilterInput) { getContestQnAs(contestId: $contestId, filter: $filter) { id order title content category isResolved createTime createdBy { username } _count { comments } } }",
    "variables": {
      "contestId": 1,
      "filter": {
        "categories": ["Problem"],
        "problemOrders": [0, 1],
        "orderBy": "asc",
        "isResolved": false
      }
    }
  }
}

script:pre-request {
  await require("./login").loginAdmin(req);
}

docs {
  ## ğŸ“˜ Get Contest QnAs (Admin)

  **POST** `/graphql`

  Admin ë‹¨ì—ì„œ ëŒ€íšŒì˜ QnAë“¤ì„ ì¡°íšŒí•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ í•„í„°ë§ ì˜µì…˜ì„ ì§€ì›í•©ë‹ˆë‹¤.

  ### ğŸ”’ Authentication

  ğŸ”¸ Required
  - Admin ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤
  - `loginAdmin` ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ì¸ì¦ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤

  ### ğŸ“¥ Request Parameters

  #### GraphQL Query Variables

  | Name      | Type   | Required | Description                      |
  |-----------|--------|----------|----------------------------------|
  | `contestId` | Int   | âœ…       | ì¡°íšŒí•  ëŒ€íšŒì˜ ID                |
  | `filter`    | GetContestQnAsFilterInput | âŒ | í•„í„°ë§ ì˜µì…˜ (ì„ íƒì‚¬í•­)        |

  #### Filter Options

  | Name           | Type                    | Description                    |
  |----------------|-------------------------|--------------------------------|
  | `categories`   | QnACategory[]           | QnA ì¹´í…Œê³ ë¦¬ í•„í„°ë§ (General, Problem) |
  | `problemOrders`| Int[]                   | íŠ¹ì • ë¬¸ì œë“¤ì˜ order ë°°ì—´ (Problem ì¹´í…Œê³ ë¦¬ì™€ í•¨ê»˜ ì‚¬ìš©) |
  | `orderBy`      | 'asc' \| 'desc'         | ì •ë ¬ ìˆœì„œ (ê¸°ë³¸ê°’: 'asc')      |
  | `isResolved`   | Boolean                 | í•´ê²° ìƒíƒœ í•„í„°ë§ (true: í•´ê²°ë¨, false: ë¯¸í•´ê²°) |

  ### ğŸ“¤ Response

  ```json
  {
    "data": {
      "getContestQnAs": [
        {
          "id": 1,
          "order": 1,
          "title": "1ë²ˆ ë¬¸ì œ ì§ˆë¬¸",
          "content": "1ë²ˆ ë¬¸ì œì—ì„œ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•©ë‹ˆë‹¤",
          "category": "Problem",
          "isResolved": false,
          "createTime": "2024-01-01T00:00:00Z",
          "createdBy": {
            "username": "user123"
          },
          "_count": {
            "comments": 2
          }
        }
      ]
    }
  }
  ```

  ### ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

  #### ë‹µë³€í•´ì•¼ í•  QnAë§Œ ì¡°íšŒ
  ```json
  {
    "filter": {
      "isResolved": false
    }
  }
  ```

  #### íŠ¹ì • ë¬¸ì œì˜ QnAë§Œ ì¡°íšŒ
  ```json
  {
    "filter": {
      "categories": ["Problem"],
      "problemOrders": [0, 1]
    }
  }
  ```

  #### ì¼ë°˜ ì§ˆë¬¸ë§Œ ì¡°íšŒ
  ```json
  {
    "filter": {
      "categories": ["General"]
    }
  }
  ```
}
