meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetContests($take: Int, $cursor: Int) {
    getContests(take: $take, cursor: $cursor) {
      id
      title
      description
      startTime
      endTime
      participants
      createdBy {
        username
      }
    }
  }
}

body:graphql:vars {
  {
    "take": 10
    // "cursor": 1
  }
}

assert {
  res.body.data.getContests: isDefined
}

script:pre-request {
  await require("./login").loginAdmin(req);
}

docs {
  # ğŸ“˜ Get Contests

  **POST** `/graphql (query: getContests)`

  Retrieves a paginated list of contests accessible to the user.

  ì‚¬ìš©ìê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ëŒ€íšŒì˜ ëª©ë¡ì„ í˜ì´ì§€ë„¤ì´ì…˜í•˜ì—¬ ì¡°íšŒí•©ë‹ˆë‹¤.

  - **SuperAdmin**: ëª¨ë“  ëŒ€íšŒ
  - **Admin/Manager/Reviewer**: ìì‹ ì´ ì—­í• (Admin, Manager, Reviewer)ì„ ë§¡ì€ ëŒ€íšŒ
  - **ì •ë ¬ ìˆœì„œ**: ì§„í–‰ ìƒíƒœ(ì§„í–‰ ì¤‘ > ì˜ˆì • > ì¢…ë£Œ), ì‹œì‘ ì‹œê°„, ì¢…ë£Œ ì‹œê°„, ìƒì„± ì‹œê°„ ìˆœ ì •ë ¬

  ---

  ### ğŸ”’ Authentication

  âœ… Required

  ---

  ### ğŸ“¥ Request Variables

  | Name | Type | Required | Description |
  |---|---|---|---|
  | `take` | Int | âŒ | ê°€ì ¸ì˜¬ ê°œìˆ˜ (ê¸°ë³¸ê°’: 10) |
  | `cursor` | Int | âŒ | í˜ì´ì§€ë„¤ì´ì…˜ ì»¤ì„œ |

  ---

  ### ğŸ“¤ Response Body

  #### Content-Type: `application/json`

  ```json
  {
    "data": {
      "getContests": [
        {
          "id": "20",
          "title": "2025 SKKU í”„ë¡œê·¸ë˜ë° ëŒ€íšŒ",
          "description": "<p>sample testcase í™•ì¸ì„ ìœ„í•œ ëŒ€íšŒ</p>",
          "startTime": "2023-01-01T00:00:00.000Z",
          "endTime": "2035-01-01T23:59:59.000Z",
          "participants": 0,
          "createdBy": {
            "username": "contestAdmin"
          }
        }
      ]
    }
  }
  ```

  | Field | Type | Description |
  |--------|------|------|
  | `id` | Int | ëŒ€íšŒ ID |
  | `title` | String | ëŒ€íšŒ ì œëª© |
  | `description` | String | ëŒ€íšŒ ì„¤ëª… |
  | `startTime` | GraphQLISODateTime | ëŒ€íšŒ ì‹œì‘ ì‹œê°„ |
  | `endTime` | GraphQLISODateTime | ëŒ€íšŒ ì¢…ë£Œ ì‹œê°„ |
  | `participants` | Int | ëŒ€íšŒ ì´ ì°¸ê°€ì ìˆ˜ |
  | `createdBy` | User | ëŒ€íšŒ ìƒì„± ì‚¬ìš©ì ì •ë³´ |
}
