meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetContest($contestId: Int!) {
    getContest(contestId: $contestId) {
      id
      title
      participants
      invitationCode
      description
      createTime
      freezeTime
      startTime
      endTime
      createdBy {
        username
      }
      contestRecord {
        userId
        user {
          username
          email
        }
      }
      userContest {
        userId
        role
        user {
          username
          email
          userProfile {
            realName
          }
        }
      }
    }
  }
}

body:graphql:vars {
  {
    "contestId": 20
  }
}

assert {
  res.body.data.getContest: isDefined
}

script:pre-request {
  await require("./login").loginContestAdmin(req);
}

docs {
  # ğŸ“˜ Get Contest
  
  **POST** `/graphql (query: getContest)`
  
  Retrieves detailed information about a single contest.
  
  íŠ¹ì • ëŒ€íšŒì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
  
  ëŒ€íšŒ ì •ë³´ì™€ í•¨ê»˜ ëŒ€íšŒ ì°¸ê°€ì ëª©ë¡(`contestRecord`), ëŒ€íšŒ ìŠ¤íƒœí”„ ëª©ë¡(`userContest`)ì„ í¬í•¨í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤.
  
  ---
  
  ### ğŸ”’ Authentication
  
  âœ… Required (Contest Staff)
  
  ---
  
  ### ğŸ“¥ Request Variables
  
  | Name | Type | Required | Description |
  |---|---|---|---|
  | `contestId` | Int | âœ… | ì¡°íšŒí•  ëŒ€íšŒì˜ ID |
  
  ---
  
  ### ğŸ“¤ Response Body
  
  #### Content-Type: `application:json`
  
  ```json
  {
    "data": {
      "getContest": {
        "id": "20",
        "title": "2025 SKKU í”„ë¡œê·¸ë˜ë° ëŒ€íšŒ",
        "participants": 0,
        "invitationCode": null,
        "description": "<p>sample testcase í™•ì¸ì„ ìœ„í•œ ëŒ€íšŒ</p>",
        "freezeTime": "2034-01-01T00:00:00.000Z",
        "startTime": "2023-01-01T00:00:00.000Z",
        "endTime": "2035-01-01T23:59:59.000Z",
        "createdBy": {
          "username": "contestAdmin"
        },
        "contestRecord": [],
        "userContest": [
          {
            "userId": 5,
            "role": "Manager",
            "user": {
              "username": "contestManager",
              "email": "contestManager@example.com",
              "userProfile": null
            }
          },
          {
            "userId": 6,
            "role": "Reviewer",
            "user": {
              "username": "contestReviewer",
              "email": "contestReviewer@example.com",
              "userProfile": null
            }
          }
        ]
      }
    }
  }
  ```
  
  | Field | Type | Description |
  |---|---|---|---|
  | `id` | Int | ëŒ€íšŒì˜ ê³ ìœ  ID |
  | `title` | String | ëŒ€íšŒ ì œëª© |
  | `participants` | Int | ëŒ€íšŒ ì´ ì°¸ê°€ì ìˆ˜ |
  | `invitationCode` | String | 6ìë¦¬ ì´ˆëŒ€ ì½”ë“œ |
  | `description` | String | ëŒ€íšŒ ì„¤ëª… |
  | `freezeTime` | GraphQLISODateTime | ë¦¬ë”ë³´ë“œ ë™ê²° ì‹œì‘ ì‹œê°„ |
  | `startTime` | GraphQLISODateTime | ëŒ€íšŒ ì‹œì‘ ì‹œê°„ |
  | `endTime` | GraphQLISODateTime | ëŒ€íšŒ ì¢…ë£Œ ì‹œê°„ |
  | `createdBy` | User | ëŒ€íšŒ ìƒì„± ìœ ì € ì •ë³´ |
  | `contestRecord` | [ContestRecord] | ëŒ€íšŒ ì°¸ê°€ì ê¸°ë¡ |
  | `userContest` | [UserContest] | ëŒ€íšŒ ê´€ë ¨ ìœ ì € ëª©ë¡ |
}
