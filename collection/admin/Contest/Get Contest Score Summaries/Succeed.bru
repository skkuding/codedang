meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetContestScoreSummaries(
    $contestId: Int!
    $take: Int
    $cursor: Int
    $searchingName: String
  ) {
    getContestScoreSummaries(
      contestId: $contestId
      take: $take
      cursor: $cursor
      searchingName: $searchingName
    ) {
      userId
      username
      studentId
      realName
      major
      submittedProblemCount
      totalProblemCount
      userContestScore
      contestPerfectScore
      problemScores {
        problemId
        score
        maxScore
      }
    }
  }
}

body:graphql:vars {
  {
    "contestId": 20,
    "take": 10
    // "cursor": 1,
    // "searchingName": "lee"
  }
}

script:pre-request {
  await require("./login").loginContestAdmin(req);
}

docs {
  # ğŸ“˜ Get Contest Score Summaries
  
  **POST** `/graphql (query: getContestScoreSummaries)`
  
  Retrieves paginated score summaries for contest participants.
  
  íŠ¹ì • ëŒ€íšŒ ì°¸ê°€ìë“¤ì˜ ì ìˆ˜ ìš”ì•½ ì •ë³´ë¥¼ í˜ì´ì§€ë„¤ì´ì…˜í•˜ì—¬ ì¡°íšŒí•©ë‹ˆë‹¤.
  
  ì‚¬ìš©ì ì •ë³´ì™€ í•¨ê»˜ ì œì¶œí•œ ë¬¸ì œ ìˆ˜, ì´ ì ìˆ˜, ë¬¸ì œë³„ ì ìˆ˜ ë“±ì„ í¬í•¨í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤. `searchingName` íŒŒë¼ë¯¸í„°ë¡œ ì‹¤ëª…ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
  ---
  
  ### ğŸ”’ Authentication
  
  âœ… Required (Contest Staff)
  
  ---
  
  ### ğŸ“¥ Request Variables
  
  | Name | Type | Required | Description |
  |---|---|---|---|
  | `contestId` | Int | âœ… | ëŒ€íšŒ ID |
  | `take` | Int | âŒ | ê°€ì ¸ì˜¬ ê°œìˆ˜ (ê¸°ë³¸ê°’: 10) |
  | `cursor` | Int | âŒ | í˜ì´ì§€ë„¤ì´ì…˜ ì»¤ì„œ |
  | `searchingName`| String | âŒ | ê²€ìƒ‰í•  ì‚¬ìš©ìì˜ `realName` |
  
  ---
  
  ### ğŸ“¤ Response Body
  
  #### Content-Type: `application/json`
  
  ```json
  {
    "data": {
      "getContestScoreSummaries": [
        {
          "userId": 7,
          "username": "user01",
          "studentId": "2024100001",
          "realName": "Myeongryun Lee",
          "major": "Computer Science",
          "submittedProblemCount": 1,
          "totalProblemCount": 2,
          "userContestScore": 0,
          "contestPerfectScore": 30,
          "problemScores": [
            {
              "problemId": 1,
              "score": 0,
              "maxScore": 10
            }
          ]
        }
      ]
    }
  }
  ```
  
  | Field | Type | Description |
  |--------|------|------|
  | `userId` | Int | ì‚¬ìš©ì ID |
  | `username` | String | ì‚¬ìš©ì ê³„ì •ëª… |
  | `studentId` | String | í•™ë²ˆ |
  | `realName` | String | ì‹¤ëª… |
  | `major` | String | ì „ê³µ |
  | `submittedProblemCount` | Int | ì œì¶œí•œ ë¬¸ì œ ê°œìˆ˜ |
  | `totalProblemCount` | Int | ëŒ€íšŒì˜ ì´ ë¬¸ì œ ê°œìˆ˜ |
  | `userContestScore` | Int | ì‚¬ìš©ìì˜ ëŒ€íšŒ ì´ì  |
  | `contestPerfectScore` | Int | ëŒ€íšŒì˜ ë§Œì  |
  | `problemScores` | [ProblemScore] | ë¬¸ì œë³„ ì ìˆ˜ ëª©ë¡ |
  | `problemScores.problemId` | ContestRole | ë¬¸ì œ ID |
  | `problemScores.score` | ContestRole | ì‚¬ìš©ìì˜ ë¬¸ì œì—ì„œì˜ ì ìˆ˜ |
  | `problemScores.maxScore` | ContestRole | ë¬¸ì œ ë§Œì  |
}
