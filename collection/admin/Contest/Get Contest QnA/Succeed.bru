meta {
  name: Succeed
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  query GetContestQnA($contestId: Int!, $order: Int!) {
    getContestQnA(contestId: $contestId, order: $order) {
      id
      title
      content
      problemId
      category
      createTime
      createdById
      createdBy {
        username
      }
      comments {
        order
        createdById
        isContestStaff
        content
        createdTime
        createdBy {
          username
        }
      }
    }
  }
}

body:graphql:vars {
  {
    "contestId": 20,
    "order": 1
  }
}

assert {
  res.body.data.getContestQnA: isObject
}

script:pre-request {
  await require("./login").loginContestAdmin(req);
}

docs {
  # ğŸ“˜ Get Contest QnA

  **POST** `/graphql (query: getContestQnA)`

  Retrieves a single QnA with its comments from a contest.

  íŠ¹ì • ëŒ€íšŒì˜ íŠ¹ì • ìˆœë²ˆ(`order`)ì— í•´ë‹¹í•˜ëŠ” QnAë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

  ---

  ### ğŸ”’ Authentication

  âœ… Required (Contest Staff)

  ---

  ### ğŸ“¥ Request Variables

  | Name | Type | Required | Description |
  |---|---|---|---|
  | `contestId` | Int | âœ… | ì¡°íšŒí•  QnAê°€ ì†í•œ ëŒ€íšŒì˜ ID |
  | `order` | Int | âœ… | ì¡°íšŒí•  QnAì˜ ìˆœë²ˆ |

  ---

### ğŸ“¤ Response Body

  #### Content-Type: `application/json`

  ```json
  {
    "data": {
      "getContestQnA": {
        "id": "7",
        "title": "20ë²ˆ ëŒ€íšŒì— ëŒ€í•œ ì§ˆë¬¸",
        "content": "7ë²ˆ ìœ ì €ê°€ ì‘ì„±í•¨",
        "problemId": null,
        "category": "General",
        "createTime": "2025-09-18T07:18:43.149Z",
        "createdById": 7,
        "createdBy": {
          "username": "user01"
        },
        "comments": [
          {
            "order": 1,
            "createdById": 4,
            "isContestStaff": true,
            "content": "7ë²ˆ ì§ˆë¬¸ì— ëŒ€í•œ ê´€ë¦¬ì ë‹µë³€",
            "createdTime": "2025-09-24T05:13:36.648Z",
            "createdBy": {
              "username": "contestAdmin"
            }
          }
        ]
      }
    }
  }
  ```

  | Field | Type | Description |
  |--------|------|------|
  | `id` | Int | QnA ID |
  | `title` | String | QnA ì œëª© |
  | `content` | String | QnA ë‚´ìš© |
  | `problemId` | Int | QnAì— í•´ë‹¹í•˜ëŠ” ë¬¸ì œ ID (Generalì¸ ê²½ìš° null) |
  | `category` | QnACategory | QnA ì¹´í…Œê³ ë¦¬ |
  | `createTime` | GraphQLISODateTime | ìƒì„± ì‹œê°„ |
  | `createdById` | Int | ì‘ì„±ì ID |
  | `createdBy` | User | ì‘ì„±ì ì •ë³´ |
  | `createdBy.username` | String | ì‘ì„±ì ì‚¬ìš©ìëª… |
  | `comments` | [Comment] | QnAì— ë‹¬ë¦° ëŒ“ê¸€ ëª©ë¡ |
  | `comments.order` | Int | QnA ë‚´ ëŒ“ê¸€ ìˆœë²ˆ |
  | `comments.createdById` | String | ëŒ“ê¸€ ì‘ì„±ì ID |
  | `comments.isContestStaff` | Boolean | ëŒ€íšŒ ìš´ì˜ì§„ ì—¬ë¶€ |
  | `comments.content` | String | ëŒ“ê¸€ ë‚´ìš© |
  | `comments.createdBy` | User | ëŒ“ê¸€ ì‘ì„±ì ì •ë³´ |
  | `comments.createdTime` | GraphQLISODateTime | ëŒ“ê¸€ ìƒì„± ì‹œê°„ |
  | `comments.createdBy.username` | String | ëŒ“ê¸€ ì‘ì„±ì ì‚¬ìš©ìëª… |
}
