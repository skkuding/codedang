meta {
  name: [ERR] Multiple ContestRoles Not Allowed
  type: graphql
  seq: 7
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: none
}

body:graphql {
  mutation CreateContest($input: CreateContestInput!) {
    createContest(input: $input) {
      id
    }
  }
}

body:graphql:vars {
  {
    "input": {
      "title": "Multiple Roles for User",
      "startTime": "2026-01-01T12:00:00.000Z",
      "endTime": "2030-01-01T12:00:00.000Z",
      "registerDueTime": "2025-12-31T12:00:00.000Z",
      "isJudgeResultVisible": true,
      "userContest": [
        { "userId": 5, "contestRole": "Manager" },
        { "userId": 5, "contestRole": "Reviewer" }
      ]
    }
  }
}

script:pre-request {
  await require("./login").loginContestAdmin(req);
}

assert {
  res.body.errors[0].message: eq Multiple ContestRoles are not allowed
}

docs {
  # ğŸ“™ [ERR] Multiple ContestRoles Not Allowed

  **POST** `/graphql (mutation: createContest)`

  User has multiple roles in this request.

  `userContest` ë°°ì—´ ë‚´ì— ë™ì¼í•œ `userId`ê°€ ì—¬ëŸ¬ ë²ˆ í¬í•¨ë˜ì–´ í•œ ëª…ì˜ ìœ ì €ì—ê²Œ ì¤‘ë³µìœ¼ë¡œ ì—­í• ì„ ë¶€ì—¬í•˜ë ¤ê³  í•  ë•Œ,

  `UnprocessableDataException`ì´ ë°œìƒí•©ë‹ˆë‹¤.
}
