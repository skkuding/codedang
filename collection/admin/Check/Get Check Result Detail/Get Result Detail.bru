meta {
  name: Get Result Detail
  type: graphql
  seq: 1
}

post {
  url: {{gqlUrl}}
  body: graphql
  auth: inherit
}

body:graphql {
  query GetCheckResultDetails(
    $resultId: Int!
  ) {
    getCheckResultDetails(
      resultId: $resultId
    ) {
      requestId
      firstCheckSubmissionId
      secondCheckSubmissionId
      averageSimilarity
      maxSimilarity
      maxLength
      longestMatch
      matches {
        startInFirst {
          line
          column
        }
        endInFirst {
          line
          column
        }
        startInSecond {
          line
          column
        }
        endInSecond {
          line
          column
        }
        lengthOfFirst
        lengthOfSecond
      }
      firstSimilarity
      secondSimilarity
      clusterId
    }
  }
}

body:graphql:vars {
  {
    "resultId": 54
  }
}

docs {
  # 🔎 Get Result Detail

  Look up one result of check in detail.

  한 검사 결과를 자세히 조회합니다.

  이 API는 아래와 같은 조건에 부합하는 경우 접근할 수 있습니다.

  - 해당 과제의 담당 교수 / 운영진인 경우
  - 표절 검사가 완료된 경우
  - 결과가 존재하는 경우

  해당 검사 결과 아이디가 존재하지 않는 경우 예외가 발생합니다.

  ### 📥 Request Parameters

  | Name | Type   | Required | Description              |
  |------|--------|----------|--------------------------|
  | `resultId` | number | ✅ | 조회할 검사 결과 아이디 |


  ### 📥 Response Parameters

  | Name | Type   | Description |
  |------|--------|-------------|
  | `requestId` | number | 검사 요청 아이디 |
  | `firstCheckSubmissionId` | number | 비교 대상인 첫 번째 제출물의 아이디 |
  | `secondCheckSubmissionId` | number | 비교 대상인 두 번째 제출물의 아이디 |
  | `averageSimilarity` | number | 서로에 대한 두 제출물의 평균 유사도 |
  | `maxSimilarity` | number | 서로에 대한 두 제출물의 유사도 중 높은 값 |
  | `maxLength` | number | 더 긴 제출물의 토큰 수 |
  | `longestMatch` | number | 매칭된 단락 중 가장 긴 단락의 토큰 수 |
  | `firstSimilarity` | number | 두 번째에 대한 첫 번째 제출물의 유사도 |
  | `secondSimilarity` | number | 첫 번째에 대한 두 번째 제출물의 유사도 |
  | `clusterId` | number | 해당 결과가 속한 클러스터 아이디 |
  | `startInFirst` | number | 첫 번째 제출물에서 매칭된 단락의 시작 인덱스 (라인과 컬럼) |
  | `endInFirst` | number | 첫 번째 제출물에서 매칭된 단락의 끝 인덱스 (라인과 컬럼) |
  | `startInSecond` | number | 두 번째 제출물에서 매칭된 단락의 시작 인덱스 (라인과 컬럼) |
  | `endInSecond` | number | 두 번째 제출물에서 매칭된 단락의 끝 인덱스 (라인과 컬럼) |
}

settings {
  encodeUrl: true
}
