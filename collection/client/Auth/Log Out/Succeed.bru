meta {
  name: Succeed
  type: http
  seq: 1
}

post {
  url: {{baseUrl}}/auth/logout
  body: none
  auth: none
}

vars:post-response {
  jwtToken: null
}

assert {
  res.status: 201
}

script:pre-request {
  await require("./login").loginUser(req);
}

script:post-response {
  bru.setVar('jwtToken', '')
}

docs {
  # ğŸ“˜ Log Out
  
  **POST** `/auth/logout`
  
  Invalidates the current session by clearing the refresh token and cookies.
  
  Refresh Tokenì„ ë¬´íš¨í™”í•˜ê³  cookieì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤. Access Tokenì€ ë§Œë£Œë˜ê¸° ì „ê¹Œì§€ ìœ íš¨í•˜ë©°, clientì—ì„œ ì§ì ‘ ì‚­ì œí•´ì•¼í•©ë‹ˆë‹¤.
  
  - ìš”ì²­ í—¤ë”ì˜ ì¿ í‚¤ì—ì„œ `refresh_token`ì„ ì¶”ì¶œí•©ë‹ˆë‹¤. ë§Œì•½ í† í°ì´ ì—†ë‹¤ë©´ ì¶”ê°€ ë¡œì§ ì—†ì´ ì¢…ë£Œí•©ë‹ˆë‹¤.
  
  - ì„œë²„ ìºì‹œ(`cacheManager`)ì— ì €ì¥ëœ í•´ë‹¹ ìœ ì €ì˜ Refresh Token ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì—¬ í•´ë‹¹ í† í°ì„ ë¬´íš¨í™”í•©ë‹ˆë‹¤.
  
  - ì‘ë‹µ ì‹œ `res.clearCookie`ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì— ì €ì¥ëœ `refresh_token` ì¿ í‚¤ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
  
  - `AuthenticatedRequest`ë¥¼ ì‚¬ìš©í•˜ì—¬ `req.user.id`ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ, ìœ íš¨í•œ Access Tokenì„ ê°€ì§„ ë¡œê·¸ì¸ ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.
  
  ### ğŸ”’ Authentication
  
  âœ… Required  
  
  ---
  
  ### ğŸ“¥ Request Parameters
  
  #### Query Parameters
  | Name | Type   | Required | Description              |
  |------|--------|----------|--------------------------|
  
  
  #### Path Parameters
  
  | Name | Type   | Required | Description              |
  |------|--------|----------|--------------------------|
  
  
  ---
  
  ### ğŸ“ Request Body
  
  #### Content-Type: `none`
}
