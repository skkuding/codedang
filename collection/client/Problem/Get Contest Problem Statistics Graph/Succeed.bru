meta {
  name: Succeed
  type: http
  seq: 1
}

get {
  url: {{baseUrl}}/contest/:contestId/problem/:problemId/statistics/graph
  body: none
  auth: none
}

params:query {
  # modeë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ bothê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
}

params:path {
  contestId: 6
  problemId: 6
}

assert {
  res.status: eq 200
  res("contestId"): isNumber 42
  res("problemId"): isNumber 7
  res("mode"): eq "both"

  res("distribution.totalSubmissions"): isNumber 1
  res("distribution.counts.WA"): isNumber 1
  res("distribution.counts.TLE"): isNumber 1
  res("distribution.counts.MLE"): isNumber 1
  res("distribution.counts.RE"): isNumber 1
  res("distribution.counts.CE"): isNumber 1
  res("distribution.counts.SE"): isNumber 1
  res("distribution.counts.NA"): isNumber 1

  res("timeline.intervalMinutes"): isNumber 10
  res("timeline.series"): isArray
  res("timeline.series[0].timestamp"): isString
  res("timeline.series[0].accepted"): isNumber 0
  res("timeline.series[0].wrong"): isNumber 0
}

docs {
  # ğŸ“˜ Get Contest Problem Statistics Graph

  **GET** `/contest/:contestId/problem/:problemId/statistics/graph`

  íŠ¹ì • ëŒ€íšŒì˜ íŠ¹ì • ë¬¸ì œì— ëŒ€í•œ **ì˜¤ë‹µ ë¶„í¬ì™€ ì‹œê°„ë³„ ì œì¶œ ì¶”ì´ ê·¸ë˜í”„ ë°ì´í„°**ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

  `mode` ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ë¯¸ì§€ì • ì‹œ, ì˜¤ë‹µ ë¶„í¬(`distribution`)ì™€ ì‹œê°„ë³„ ì œì¶œ ì¶”ì´(`timeline`)ë¥¼ ë™ì‹œì— ë°˜í™˜í•©ë‹ˆë‹¤.
  - `mode=distribution`ì¸ ê²½ìš° ì˜¤ë‹µ ë¶„í¬ë§Œ,
  - `mode=timeline`ì¸ ê²½ìš° ì œì¶œ ì¶”ì´ë§Œ ë°˜í™˜í•©ë‹ˆë‹¤.

  ì´ APIëŠ” **ëŒ€íšŒ ì¢…ë£Œ í›„**ì—ë§Œ ì¡°íšŒí•  ìˆ˜ ìˆìœ¼ë©°, ëˆ„êµ¬ë‚˜ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.

  ### ğŸ”’ Authentication

  ğŸ”¸ Optional
  ì¸ì¦ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ëŒ€íšŒê°€ ì¢…ë£Œëœ ì´í›„ë¼ë©´ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  ### Request Parameters

  #### Query Parameters

  | Name | Type | Required | Description |
  |------|------|----------|-------------|
  | `mode` | `"distribution" \| "timeline"` | âŒ | ìƒëµ ì‹œ `both`ë¡œ ì²˜ë¦¬ë˜ì–´ ë‘ ê·¸ë˜í”„ ëª¨ë‘ ë°˜í™˜ |

  #### Path Parameters

  | Name | Type | Required | Description |
  |------|------|----------|-------------|
  | `contestId` | number | âœ… | ëŒ€ìƒ ëŒ€íšŒì˜ ID |
  | `problemId` | number | âœ… | ëŒ€ìƒ ë¬¸ì œì˜ ID |

  ### ğŸ“¤ Responses

  #### 200 OK

  - `mode` ë¯¸ì§€ì • ì‹œ:
    - `mode: "both"`
    - `distribution`: ì˜¤ë‹µ ë¶„í¬ ë°ì´í„°
      - `totalSubmissions`: ì´ ì œì¶œ ìˆ˜
      - `counts`: ê²°ê³¼ë³„ ì œì¶œ ìˆ˜
        (`WA`, `TLE`, `MLE`, `RE`, `CE`, `SE`, `NA`)
    - `timeline`: ì‹œê°„ë³„ ì œì¶œ ì¶”ì´ ë°ì´í„°
      - `intervalMinutes`: ì§‘ê³„ ê°„ê²©(ë¶„) â€” í˜„ì¬ 10ë¶„
      - `series[]`:
        - `timestamp`: ìŠ¬ë¡¯ ì‹œì‘ ì‹œê°(ISO8601)
        - `accepted`: í•´ë‹¹ ì‹œê° Accepted ì œì¶œ ìˆ˜
        - `wrong`: í•´ë‹¹ ì‹œê° Wrong ì œì¶œ ìˆ˜ (WA/TLE/MLE/RE/CE/SEì˜ í•©)
}
